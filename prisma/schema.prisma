generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

enum AuthProvider {
  GOOGLE
  APPLE
}

enum UserStatus {
  ACTIVE
  INACTIVE
}

model users {
  id               String       @id @default(uuid())
  email            String       @unique @db.VarChar(255)
  auth_provider    AuthProvider @default(GOOGLE)
  auth_provider_id String
  status           UserStatus   @default(ACTIVE)
  created_at       DateTime     @default(now()) @db.Timestamptz
  updated_at       DateTime     @updatedAt @db.Timestamptz
  deleted_at       DateTime?    @db.Timestamptz

  // relations
  tasks tasks[]
}

model tasks {
  id        String  @id @default(uuid())
  user_id   String
  title     String
  is_active Boolean @default(false)

  created_at DateTime  @default(now()) @db.Timestamptz
  updated_at DateTime  @updatedAt @db.Timestamptz
  deleted_at DateTime? @db.Timestamptz

  // relations
  user users @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@index([user_id])
}
